(this.webpackJsonpspesa=this.webpackJsonpspesa||[]).push([[0],{152:function(e,t,a){e.exports=a(339)},157:function(e,t,a){},158:function(e,t,a){},339:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(11),i=a.n(r),l=(a(157),a(83)),c=a(84),s=a(85),u=a(86),m=a(48),d=a(130),g=a(146),p=(a(158),a(5)),h=(a(90),a(132)),f=a.n(h),v=(a(340),a(167),a(134)),b=a(147),E=a(138),y=a(373),w=a(384),C=a(7),I=a(379),k=a(380),S=a(381),x=a(378),O=a(385),D=a(375),j=a(382),A=a(383),U=a(371),B=a(142),z=a.n(B),N=a(145),R=a.n(N),W=a(376),G=a(140),K=a.n(G),L=a(141),H=a.n(L),J=a(144),M=a.n(J),P=a(143),q=a.n(P);p.initializeApp({apiKey:"AIzaSyADxgU6pKy-sqxGhPHkqAoW_VqG85VsQB8",authDomain:"spesa-2de52.firebaseapp.com",databaseURL:"https://spesa-2de52.firebaseio.com",projectId:"spesa-2de52",storageBucket:"spesa-2de52.appspot.com",messagingSenderId:"232880545893",appId:"1:232880545893:web:57cbf0ac1e002b3625a68c",measurementId:"G-K5TC2JJMH8"}),p.analytics();var F=Object(U.a)((function(e){return{text:{padding:e.spacing(2,2,0)},paper:{paddingBottom:50},list:{marginBottom:e.spacing(2),width:250},subheader:{backgroundColor:e.palette.background.paper},appBar:{top:"auto",bottom:0},grow:{flexGrow:1},fabButton:{position:"absolute",zIndex:1,top:-30,left:0,right:0,margin:"0 auto"},fullList:{width:"auto"},root:{display:"flex","& > *":{margin:e.spacing(1)}}}}));function V(){var e=o.a.useState({left:!1}),t=Object(g.a)(e,2),a=t[0],n=t[1],r=function(e,t){return function(o){(!o||"keydown"!==o.type||"Tab"!==o.key&&"Shift"!==o.key)&&n(Object(d.a)({},a,Object(m.a)({},e,t)))}};return o.a.createElement(y.a,{position:"fixed",color:"primary",className:F().appBar},o.a.createElement(T,{state:a,setState:n,toggleDrawer:r}),o.a.createElement(D.a,null,o.a.createElement(W.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:r("left",!0)},o.a.createElement(K.a,null)),o.a.createElement("div",{className:F().grow}),o.a.createElement(w.a,{alt:p.auth().currentUser.displayName,src:p.auth().currentUser.photoURL}),o.a.createElement(W.a,{color:"inherit","aria-label":"logout",onClick:function(){p.auth().signOut()}},o.a.createElement(H.a,null))))}function T(e){var t=F(),a=e.state,n=e.toggleDrawer;return o.a.createElement("div",null,["left"].map((function(e){return o.a.createElement(o.a.Fragment,{key:e},o.a.createElement(A.a,{anchor:e,open:a[e],onClose:n(e,!1),onOpen:n(e,!0)},function(e){return o.a.createElement("div",{className:Object(C.a)(t.list,Object(m.a)({},t.fullList,"top"===e||"bottom"===e)),role:"presentation",onClick:n(e,!1),onKeyDown:n(e,!1)},o.a.createElement(x.a,null,o.a.createElement(O.a,null,o.a.createElement("div",{className:t.root},o.a.createElement(w.a,{alt:p.auth().currentUser.displayName,src:p.auth().currentUser.photoURL})))),o.a.createElement(I.a,null))}(e)))})))}var _=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={color:"#444",datiDisegno:null,giaFatto:!1},e.handleChangeComplete=function(t,a){e.setState({color:t.hex})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("arteInsiemeSalvataggio");null!=t?(console.log("OK"),console.log(t),this.setState({datiDisegno:t})):p.firestore().collection("disegni").doc(p.auth().currentUser.email).get().then((function(a){a.exists?(e.setState({datiDisegno:a.data().disegno}),localStorage.setItem("arteInsiemeSalvataggio",a.data().disegno)):e.setState({datiDisegno:t})})).catch((function(a){e.setState({datiDisegno:t})}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(k.a,{color:"secondary","aria-label":"colore",style:{margin:0,zIndex:1,top:"auto",right:20,bottom:260,left:"auto",position:"fixed"}},o.a.createElement(v.a,{trigger:o.a.createElement(z.a,null),position:"left center"},o.a.createElement(E.SketchPicker,{color:this.state.color,onChangeComplete:this.handleChangeComplete,disableAlpha:!0}))),o.a.createElement(k.a,{color:"secondary","aria-label":"save",style:{margin:0,zIndex:1,top:"auto",right:20,bottom:200,left:"auto",position:"fixed"}},o.a.createElement(q.a,{onClick:function(){localStorage.setItem("arteInsiemeSalvataggio",e.saveableCanvas.getSaveData()),p.firestore().collection("disegni").doc(p.auth().currentUser.email).set({disegno:e.saveableCanvas.getSaveData()})}})),o.a.createElement(k.a,{color:"secondary","aria-label":"undo",style:{margin:0,zIndex:1,right:20,bottom:140,left:"auto",position:"fixed"}},o.a.createElement(M.a,{onClick:function(){e.saveableCanvas.undo()}})),o.a.createElement(k.a,{color:"secondary","aria-label":"clear",style:{margin:0,zIndex:1,top:"auto",right:20,bottom:80,left:"auto",position:"fixed"}},o.a.createElement(R.a,{onClick:function(){e.saveableCanvas.clear()}})),o.a.createElement(b.a,{ref:function(t){return e.saveableCanvas=t},saveData:this.state.datiDisegno,brushColor:this.state.color,style:{width:window.innerWidth,height:window.innerHeight-65,zIndex:-1,position:"absolute"}}))}}]),a}(o.a.Component),Q=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={isSignedIn:!1},e.uiConfig={signInFlow:"popup",signInOptions:[p.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.unregisterAuthObserver=p.auth().onAuthStateChanged((function(t){return e.setState({isSignedIn:!!t})}))}},{key:"componentWillUnmount",value:function(){this.unregisterAuthObserver()}},{key:"render",value:function(){return this.state.isSignedIn?o.a.createElement("div",null,o.a.createElement(V,null),o.a.createElement(_,null)):o.a.createElement("div",null,o.a.createElement(S.a,{container:!0,spacing:5,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"}},o.a.createElement(S.a,{item:!0,xs:12},o.a.createElement(j.a,{variant:"h1",component:"h2"},"Arte tutti insieme")),o.a.createElement(S.a,{item:!0,xs:12},o.a.createElement(f.a,{uiConfig:this.uiConfig,firebaseAuth:p.auth()}))))}}]),a}(o.a.Component);var $=function(){return o.a.createElement("div",null,o.a.createElement(Q,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[152,1,2]]]);
//# sourceMappingURL=main.24377472.chunk.js.map